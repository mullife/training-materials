\section{What's new in Buildroot?}

\begin{frame}{What's new in Buildroot}
  \begin{itemize}
  \item The major improvements in each release are summarized in the
    file named \code{CHANGES} in the Buildroot source tree
  \item Always mentions changes that could cause backward
    compatibility problems
  \item The following slides summarize the major new features added in
    each release between 2014.05 and 2016.05.
  \item All new Buildroot versions come with new packages, and many
    updates to the existing packages
    \begin{itemize}
    \item Such package additions and updates are not listed in the
      following slides.
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{In 2014.05 (1)}
  \begin{itemize}
  \item {\bf Architectures:}
    \begin{itemize}
    \item Support for MIPS o32 ABI on MIPS-64 targets has
      been removed (too exotic)
    \item Support for the ARM A12 variant and Intel corei7
    \end{itemize}
  \item {\bf Defconfigs:} Minnowboard and Altera SoCkit added, QEMU
    updates.
  \item {\bf Bootloaders:} Grub2 and gummiboot support, syslinux
    support extended.
  \item Kconfig handling for minimum kernel headers version required
    for packages. Now packages needing specific kernel header features
    can specify these requirements in Kconfig.
  \end{itemize}
\end{frame}

\begin{frame}{In 2014.05 (2)}
  \begin{itemize}
  \item {\bf Toolchains:}
    \begin{itemize}
    \item GCC 4.9. Glibc 2.19.
    \item Support for the musl C
      library for internal and external toolchains.
    \item GCC 4.8-R3 support for ARC
    \item Internal toolchain support for Aarch64 and
      Microblaze
    \item Toolchain tuple vendor name can now be
      customized.
    \item Updated external Linaro ARM/Aarch64
      toolchains.
    \item Added external Linaro ARMEB toolchain.
    \item A GDB gdbinit file is now generated for external toolchains
      to automatically set the correct sysroot.
    \end{itemize}
  \item {\bf Infrastructure:}
    \begin{itemize}
    \item Support for (but disabled as it leads to
      unreproducible builds) toplevel parallel builds.
    \item Python package infrastructure extended to support Python 3.x
    \item Perl and virtual package infrastructure support added.
    \item \code{PRE_*_HOOKS} support for all build steps.
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{In 2014.08 (1)}
  \begin{itemize}
  \item {\bf Architectures:}
    \begin{itemize}
    \item Powerpc64 BE/LE added, AVR32 deprecated.
    \item Improved altivec / SPE /atomic instructions
      handling. Additional PowerPC CPU variants added.
    \end{itemize}
  \item {\bf Defconfigs:} Atmel SAMA5D3, Congatec QMX6, Lego ev3,
    TS-5x00, qemu-system-xtensa, qemu-aarch64-virt added. A number
    of tweaks to existing ones. lpc32xx defconfigs removed.
  \item {\bf Toolchain:}
    \begin{itemize}
    \item Microblaze support for internal musl toolchain.
    \item Default to GCC 4.8 for internal toolchain, remove deprecated
      4.3 and 4.6 versions.
    \item External CodeSourcery / Linaro toolchain updates
    \item Option to copy gconv libraries for external toolchains.
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{In 2014.08 (2)}
  \begin{itemize}
  \item {\bf Infrastructure:}
    \begin{itemize}
    \item \code{graph-depends} improvements
    \item Download handling is now done using helper scripts.
    \item Integrity of downloads can now be verified using hashes
    \item Legal-info: License info of local or overridden packages
      are saved as well. Toolchain packages are also taken into
      account.
    \item autotools: Static linking with libtool / v1.5 improvements
    \item Gettextize support, similar to autoreconf
    \item kconfig package infrastructure added
    \end{itemize}
  \item User manual restructured / reworked
  \end{itemize}
\end{frame}

\begin{frame}{In 2014.11}
  \begin{itemize}
  \item {\bf Toolchains:}
    \begin{itemize}
    \item Use \code{-mcpu} / \code{-march} instead of \code{-mtune}
    \item Support additional ARC and sparc variants
    \item Updated Code sourcery and Linaro external toolchains
    \end{itemize}
  \item {\bf Defconfigs:} Freescale iMX6DL SabreSD, Minnowboard MAX,
    QEMU powerpc64 pseries added and a number of updates to the
    existing configurations.
  \item {\bf Infrastructure:}
    \begin{itemize}
    \item Buildroot is now less noisy when built with the silent
      option (\code{make -s})
    \item A number of package infrastructure variables have been
      renamed from \code{*_OPT} to \code{*_OPTS} for consistency
    \item Option to choose what shell /bin/sh points to
    \end{itemize}
  \item {\bf Documentation:}
    \begin{itemize}
    \item Various updates to the user manual
    \item The asciidoc documentation handling has now been extended so
      it can be used by \code{BR2_EXTERNAL}
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{In 2015.02 (1)}
  \begin{itemize}
  \item {\bf Static/shared library handling reworked}
    \begin{itemize}
    \item This is now a tristate (shared only / shared and static /
      static only)
    \item Default is now shared only to speed up the
      build. \code{BR2_PREFER_STATIC_LIB} is now called
      \code{BR2_STATIC_LIBS}
    \end{itemize}
  \item {\bf Toolchain:}
    \begin{itemize}
    \item The toolchain (internal and external) will now warn when an
      unsafe library or header path is used
    \item If \code{BR2_COMPILER_PARANOID_UNSAFE_PATH} is enabled under
      build options this instead becomes an error.
    \end{itemize}
  \item {\bf Architectures:} Freescale E5500 and E6500 PowerPC support
    added, deprecated MIPS 1/2/3/4 support removed.
  \item {\bf Defconfigs:} Freescale p2020ds, MIPS creator CI20,
    Raspberrypi with DT, UDOO Quad
  \end{itemize}
\end{frame}

\begin{frame}{In 2015.02 (2)}
  \begin{itemize}
  \item \code{make <foo>_defconfig} now saves the path to the
    defconfig in the \code{.config}, so a \code{make savedefconfig}
    automatically updates it
  \item Infrastructure for packages using the Erlang rebar tool has
    been added.
  \item Hashes for a large number of packages have been added. Hashes
    are now checked for both target and host packages.
  \item The system menu now has an option to automatically configure a
    network interface through DHCP at bootup.
  \item The default filesystem skeleton now uses a separate
    \code{tmpfs} for \code{/run} instead of a symlink to \code{/tmp/}
    for security reasons / to protect against conflicts with user
    generated temporary files.
  \item \code{BR2_EXTERNAL} is now exported to post-build and
    post-image scripts.
  \end{itemize}
\end{frame}

\begin{frame}{In 2015.05 (1)}
  \begin{itemize}
  \item {\bf Architectures:}
    \begin{itemize}
    \item Removed AVR32 support, SuperH64 deprecated
    \item Added support for steamroller, corei7-avx and core-avx2 x86
      variants.
    \end{itemize}
  \item {\bf Toolchains:}
    \begin{itemize}
    \item IPv6 and Largefile support now enforced for
      uClibc. Corresponding Kconfig symbols removed.
    \item External CodeSourcery AMD64 2014.05 added
    \item musl-cross 1.1.6 added
    \item CodeSourcery SuperH 2 and Xilinx Microblaze v2/14.3 removed
    \item Distro-class external toolchains are now detected and
      blacklisted
    \item Internal toolchain support for Nios2 added, Blackfin
      removed.
    \item Aarch64 and sh musl support.
    \item uClibc-ng support added
    \item Libatomic is now handled for internal and external
      toolchains.
    \item Link time optimization (LTO) support.
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{In 2015.05 (2)}
  \begin{itemize}
  \item {\bf Defconfigs:} Freescale i.MX28 EVK, i.MX31 PDK and SABRE
    Auto, Raspberry Pi 2, RIoTboard
  \item {\bf Infrastructure:}
    \begin{itemize}
    \item Hashes for a large number of packages have
      been added.
    \item Missing hashes now stop the build unless
      explicitly disabled.
    \item Spaces and colons (:) are now supported in package versions.
    \item Dependencies can now be listed for the patch step
      (\code{<PKG>_PATCH_DEPENDENCIES}).
    \item Kconfig and Linux kernel extensions infrastructure has
      been added.
    \item Makedevs now has a recursive (r) option
    \item \code{external-deps}, \code{legal-info}, \code{source},
      \code{source-check} have been reimplemented using the package
      infrastructure, so their output/behaviour may differ from
      earlier (some packages were not included in the past).
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{In 2015.08}
  \begin{itemize}
  \item {\bf Architectures:} Minimal support for ARM Cortex-M3 and
    AArch64 big-endian.
  \item {\bf Toolchains:} Use {\em uClibc-ng} by default, add gcc 5.x
    support, update toolchain components
  \item {\bf Defconfigs:} VIA VAB-820/AMOS-820, OLimex OLinuxino A20
    Lime, many Atmel evaluation boards, ACME Systems Aria G25,
    WarPboard, Altera Cyclone 5 Development Board, Xilinx zc706, ARC
    AXS101 and AXS103
  \item {\bf Infrastructure:}
    \begin{itemize}
    \item Predictable permissions in the generated rootfs
    \item Support for {\em kconfig fragments}
    \item New \code{kernel-module} infrastructure
    \item Rework of the skeleton and init scripts packaging
    \item New \code{linux-tools} infrastructure in the \code{linux}
      package
    \item GCC version dependency mechanism
    \end{itemize}
  \item {\bf Filesystems:} Complete rework of the ISO9660 support.
  \end{itemize}
\end{frame}

\begin{frame}{In 2015.11}
  \begin{itemize}
  \item {\bf Architectures:} sparc64, mips32r6, mips64r6, Intel Quark
    X1000 support added
  \item {\bf Toolchains:} toolchain wrapper now also used for internal
    toolchains, in addition to external toolchains, which fixes {\em
      ccache} support. Updated external toolchains and toolchain
    components.
  \item {\bf Defconfigs:} ARC HS38 VDK virtual boards, Avnet Microzed,
    Boundary Devices Nitrogen SoloX, Freescale i.MX6 SoloX Sabre SD,
    OLinuxino A20 Lime2, Qemu Sparc64, Qemu SuperH 4 big endian,
    Synopsys AArch64 VDK virtual platform
  \item {\bf Infrastructure:}
    \begin{itemize}
    \item Addition of \code{graph-size}
    \item Addition of \code{<pkg>_EXCLUDES} to prevent specific parts
      of a package from being extracted
    \item Addition of \code{<pkg>_PKGDIR}, which points to
      \code{package/<pkg>/}
    \end{itemize}
  \item {\bf Skeleton:} support a merged \code{usr/} configuration,
    enforced for {\em systemd}, optional otherwise
  \end{itemize}
\end{frame}

\begin{frame}{In 2016.02}
  \begin{itemize}
  \item {\bf Toolchain:} gcc 5.3 support added, dropped support for
    uClibc as uClibc-ng is now used. Updated external toolchains.
  \item {\bf Defconfigs:} ARM Juno r0/r1 development boards, Freescale
    i.MX6UL Evaluation Kit, Intel Galileo Gen 2, Orange Pi PC
  \item {\bf Images:} more widespread use of \code{genimage} to
    generate complete SD card images
  \item {\bf Infrastructure:} {\em makedevs} now accepts textual
    (non-numerical) user and group names
  \end{itemize}
\end{frame}

\begin{frame}{In 2016.05}
  \begin{itemize}
  \item {\bf Architectures:} support for ARM Cortex-M3/M4 added with
    improved ARM noMMU support, m68k re-enabled with Coldfire support.
  \item {\bf Toolchains:} gcc 6 support added. External toolchains and
    toolchain componenents updated.
  \item {\bf Languages:} support for the Go language has been added.
  \item {\bf Defconfigs:} Firefly RK3288, Boundary Devices i.MX7
    Nitrogen7, STM32F429 and STM32F469 Discovery boards, Hardkernel
    ODROID-C2, Raspberry Pi Zero and Raspberry Pi 3. Some Qemu
    defconfigs were added for m68k, eXtensa-nommu and ColdFire.
  \end{itemize}
\end{frame}